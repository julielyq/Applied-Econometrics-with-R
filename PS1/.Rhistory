CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n(), mean_difference = F_mean - M_mean)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12_adjusted$gender <- NA
# Important: leave this R-script in your code, change only the ---a---, ---b--- r-script when answering the questions.
# The following sets your working directory to wherever this .Rmd file is saved
# note, must be included in the setup portion of the .Rmd
knitr::opts_knit$set(root.dir = getwd())
# alternatively, you may change working directory manually
# Note: this only runs when knit, so if try running by hand it will not do anything, best to also change working directory manually
setwd("~/Desktop/Fall 2018/applied econometrics with R/Pset1 - Folder-20180927")
# Clear enviroment before starting
remove(list = ls())
if(!require(tidyverse)) install.packages("tidyverse", repos = "http://cran.us.r-project.org") # run this the first time (only need to once)
library(tidyverse) # includes ggplot2 and many more useful libraries
if(!require(knitr)) install.packages("knitr", repos = "http://cran.us.r-project.org")
library(knitr)
# options(digits=3)
# theme_update(plot.title = element_text(hjust = 0.5)) # include if feel like centering plot titles
# Notice: Make sure you download the entire folder in Latte as is, such that you save the two datasets in the Input folder.
# Notice: Make sure you set this folder you download as your working directory if you are running the code by hand.  The knitr::opts_knit$set(root.dir = getwd()) will only set the file location as your working directory when it knits; so again by hand uncomment the following line and change to your specification
# setwd("C:/user/Documents") # something like this, you can use the file navigator in the bottom right window to set as well.
# read in chapter 3 data: cps_ch3.csv
CPS92_12 <- read.csv("Input/cps92_12.csv")
# read in chapter 4 data: Growth.csv
growth <- read.csv("Input/Growth.csv")
# include iris data for template examples
library(datasets)
data("iris")
# i. Compute the sample mean for average hourly earnings (AHE) in 1992 and 2012.
CPS92_12 %>% group_by(year) %>% summarise(mean = mean(ahe))
# ii. Compute the sample standard deviation for AHE in 1992 and 2012.
CPS92_12 %>% group_by(year) %>% summarise(sd = sd(ahe))
# iii. Construct a 95% confidence interval for the population means of AHE in 1992 and 2012.
CPS92_12 %>% group_by(year) %>% summarise(mean = mean(ahe), se = sd(ahe)/sqrt(n()), CI.lower = mean - 1.96 *se, CI.upper = mean + 1.96*se)
# iv. Construct a 95% confidence interval for the change in the population mean of AHE between 1992 and 2012.
ahe_1992 <- CPS92_12[CPS92_12$year == 1992, ]$ahe
ahe_2012 <- CPS92_12[CPS92_12$year == 2012, ]$ahe
t.test(ahe_1992, ahe_2012, paired = FALSE, alternative = "two.sided", var.equal = FALSE)
# In 2012, the value of the Consumer Price Index (CPI) was 229.6. In 1992, the value of the CPI was 140.3. Repeat (a) but use AHE mea- sured in real 2012 dollars ($2012); that is, adjust the 1992 data for the price inflation that occurred between 1992 and 2012.
adjust_factor = 229.6/140.3
CPS92_12_adjusted <- CPS92_12 %>% mutate(ahe_real= ifelse(year == 1992, ahe*adjust_factor, ahe))
CPS92_12_adjusted %>% group_by(year) %>% summarise(mean = mean(ahe_real), se = sd(ahe_real)/sqrt(n()), CI.lower = mean - 1.96 *se, CI.upper = mean + 1.96*se)
# i. Using the data for 2012: Construct a 95% confidence interval for the mean of AHE for high school graduates.
CPS92_12 %>% filter(year == 2012,  bachelor == 0) %>% summarise(mean = mean(ahe), se = sd(ahe)/sqrt(n()), CI.lower = mean - 1.96 *se, CI.upper = mean + 1.96*se)
# ii. Construct a 95% confidence interval for the mean of AHE for workers with a college degree.
CPS92_12 %>% filter(year == 2012,  bachelor == 1) %>% summarise(mean = mean(ahe), se = sd(ahe)/sqrt(n()), CI.lower = mean - 1.96 *se, CI.upper = mean + 1.96*se)
# iii. Construct a 95% confidence interval for the difference between the two means.
data_2012 <- filter(CPS92_12, year == 2012)
ahe_2012_highschool <- data_2012[data_2012$bachelor == 0, ]$ahe
ahe_2012_colledge <- data_2012[data_2012$bachelor == 1, ]$ahe
t.test(ahe_2012_highschool, ahe_2012_colledge, paried = FALSE, alternative = "two.side", var.equal = FALSE, mu = 0)
# i.Construct a 95% confidence interval for the mean of adjusted AHE for high school graduates.
CPS92_12_adjusted %>% filter(year == 1992,  bachelor == 0) %>% summarise(mean = mean(ahe_real), se = sd(ahe_real)/sqrt(n()), CI.lower = mean - 1.96 *se, CI.upper = mean + 1.96*se)
# i. Construct a 95% confidence interval for the mean of adjusted AHE for workers with a college degree.
CPS92_12_adjusted %>% filter(year == 1992,  bachelor == 1) %>% summarise(mean = mean(ahe_real), se = sd(ahe_real)/sqrt(n()), CI.lower = mean - 1.96 *se, CI.upper = mean + 1.96*se)
# iii. Construct a 95% confidence interval for the difference between the two adjusted means.
data_1992 <- filter(CPS92_12_adjusted, year == 1992)
ahe_1992_adjusted_highschool <- data_1992[data_1992$bachelor == 0, ]$ahe_real
ahe_1992_adjusted_bachelor <- data_1992[data_1992$bachelor == 1, ]$ahe_real
t.test(ahe_1992_adjusted_highschool, ahe_1992_adjusted_bachelor, paried = FALSE, alternative = "two.side", var.equal = FALSE, mu = 0)
# i. Did real (inflation-adjusted) wages of high school graduates increase from 1992 to 2012?
t.test(ahe_1992_adjusted_highschool, ahe_2012_highschool, paired = FALSE, alternative = "less", var.equal = FALSE, mu = 0)
# ii.
t.test(ahe_1992_adjusted_bachelor, ahe_2012_colledge ,paried = FALSE, alternative = "less", var.equal = FALSE, mu = 0)
# iii.
gap_1992 =  ahe_1992_adjusted_bachelor - ahe_1992_adjusted_highschool
gap_2012 = ahe_2012_colledge - ahe_2012_highschool
t.test(gap_1992, gap_2012, paried = FALSE, alternative = "greater", var.equal = FALSE)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12_adjusted$gender <- NA
CPS92_12_adjusted$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12_adjusted$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12_adjusted %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe_real), sd = sd(ahe_real, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12_adjusted$gender <- NA
CPS92_12_adjusted$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12_adjusted$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12_adjusted %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe_real), sd = sd(ahe_real, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12_adjusted$gender <- NA
CPS92_12_adjusted$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12_adjusted$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12_adjusted %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe_real), sd = sd(ahe_real, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12_adjusted$gender[CPS92_12$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12_adjusted$gender[CPS92_12$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12_adjusted$gender[CPS92_12$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12_adjusted$gender[CPS92_12$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12_adjusted$gender[CPS92_12$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12_adjusted$gender[CPS92_12$female == "0"] <- "M"; CPS92_12_adjusted$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe, n = n()), mean()
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
names(table_g.wide) <- c("Year", "Mean for Female", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
names(table_g.wide) <- c("Year", "Female Mean", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
names(table_g.wide) <- c("Year", "Mean for Female", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12_$female == "1"] <- "F"
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(13.1-15.2, 21.5-25.3)
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
names(table_g.wide) <- c("Year", "Mean for Female", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(13.1-15.2, 21.5-25.3)
mean_se = c(sqrt(5.13**2/1368 + 6.63**2/1594), sqrt(9.99**2/1951 + 12.09**2/2004))
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
#names(table_g.wide) <- c("Year", "Mean for Female", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
mean_difference
str(mean_difference)
mean_se
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(15.2-13.1, 25.3-21.5)
print(mean_difference)
mean_se = c(sqrt(5.13**2/1368 + 6.63**2/1594), sqrt(9.99**2/1951 + 12.09**2/2004))
print(mean_se)
CI_d_1992 = c(2.1 - 1.96*0.216, 2.1+1.96*0.216)
print(CI_d_1992)
CI_d_2012 = c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
#names(table_g.wide) <- c("Year", "Mean for Female", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(15.2-13.1, 25.3-21.5)
print(mean_difference)
mean_se = c(sqrt(5.13**2/1368 + 6.63**2/1594), sqrt(9.99**2/1951 + 12.09**2/2004))
print(mean_se)
CI_d_1992 = c(2.1 - 1.96*0.216, 2.1+1.96*0.216)
print(CI_d_1992)
CI_d_2012 = c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
#names(table_g.wide) <- c("Year", "Mean for Female", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(15.2-13.1, 25.3-21.5)
print(mean_difference)
mean_se <- c(sqrt(5.13**2/1368 + 6.63**2/1594), sqrt(9.99**2/1951 + 12.09**2/2004))
print(mean_se)
CI_d_1992 <- c(2.1 - 1.96*0.216, 2.1+1.96*0.216)
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
table_g <- cbind(table_g, mean_MF = mean_difference, SE_MF = mean_se, CI_d = CI)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(15.2-13.1, 25.3-21.5)
print(mean_difference)
mean_se <- c(sqrt(5.13**2/1368 + 6.63**2/1594), sqrt(9.99**2/1951 + 12.09**2/2004))
print(mean_se)
CI_d_1992 <- c(2.1 - 1.96*0.216, 2.1+1.96*0.216)
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, mean_MF = mean_difference, SE_MF = mean_se, CI_d = CI)
#names(table_g.wide) <- c("Year", "Mean for Female", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(15.2-13.1, 25.3-21.5) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(5.13**2/1368 + 6.63**2/1594), sqrt(9.99**2/1951 + 12.09**2/2004)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
CI_d_1992 <- c(2.1 - 1.96*0.216, 2.1+1.96*0.216) #mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, mean_MF = mean_difference, SE_MF = mean_se, CI_d = CI)
#names(table_g.wide) <- c("Year", "Mean for Female", "n for Female", "SD for Female",  "Mean for Male", "n for Male", "SD for Male")
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "1") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(15.2-13.1, 25.3-21.5) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(5.13**2/1368 + 6.63**2/1594), sqrt(9.99**2/1951 + 12.09**2/2004)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
CI_d_1992 <- c(2.1 - 1.96*0.216, 2.1+1.96*0.216) #95% confidence interval = mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, MF_mean = mean_difference, MF_SE = mean_se, CI_d = CI)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "0") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n())
mean_difference = c(15.2-13.1, 25.3-21.5) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(5.13**2/1368 + 6.63**2/1594), sqrt(9.99**2/1951 + 12.09**2/2004)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
CI_d_1992 <- c(2.1 - 1.96*0.216, 2.1+1.96*0.216) #95% confidence interval = mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, MF_mean = mean_difference, MF_SE = mean_se, CI_d = CI)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "0") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n()) ##high school
mean_difference = c(10.8-8.78, 17.0-13.12) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(3.89**2/1876 + 4.87**2/2774), sqrt(6.07**2/1206 + 8.9**2/2279)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
CI_d_1992 <- c(2.1 - 1.96*0.216, 2.1+1.96*0.216) #95% confidence interval = mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, MF_mean = mean_difference, MF_SE = mean_se, CI_d = CI)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "0") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n()) ##high school
mean_difference = c(10.8-8.78, 17.0-13.12) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(3.89**2/1876 + 4.87**2/2774), sqrt(6.07**2/1206 + 8.9**2/2279)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
CI_d_1992 <- c(2.02 - 1.96*1.68, 2.02+1.96*1.68) #95% confidence interval = mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, MF_mean = mean_difference, MF_SE = mean_se, CI_d = CI)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "0") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n()) ##high school
mean_difference = c(10.8-8.78, 17.0-13.12) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(3.89**2/1876 + 4.87**2/2774), sqrt(6.07**2/1206 + 8.9**2/2279)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
print(mean_se)
CI_d_1992 <- c(2.02 - 1.96*1.68, 2.02+1.96*1.68) #95% confidence interval = mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.352, 3.8 + 1.96*0.352)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, MF_mean = mean_difference, MF_SE = mean_se, CI_d = CI)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "0") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n()) ##high school
mean_difference = c(10.8-8.78, 17.0-13.12) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(3.89**2/1876 + 4.87**2/2774), sqrt(6.07**2/1206 + 8.9**2/2279)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
print(mean_se)
CI_d_1992 <- c(2.02 - 1.96*0.129, 2.02+1.96*0.129) #95% confidence interval = mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.256, 3.8 + 1.96*0.256)
print(CI_d_2012)
CI <- c("1.68-2.52", "3.11-4.49")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, MF_mean = mean_difference, MF_SE = mean_se, CI_d = CI)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "0") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n()) ##high school
mean_difference = c(10.8-8.78, 17.0-13.12) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(3.89**2/1876 + 4.87**2/2774), sqrt(6.07**2/1206 + 8.9**2/2279)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
print(mean_se)
CI_d_1992 <- c(2.02 - 1.96*0.129, 2.02+1.96*0.129) #95% confidence interval = mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.256, 3.8 + 1.96*0.256)
print(CI_d_2012)
CI <- c("1.77-2.77", "3.3-4.3")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, MF_mean = mean_difference, MF_SE = mean_se, CI_d = CI)
kable(table_g.wide)
# code for beginning the table for question g in E3.1
# add letter for better idenfitication when spread table later
CPS92_12$gender <- NA
CPS92_12$gender[CPS92_12_adjusted$female == "0"] <- "M"; CPS92_12$gender[CPS92_12$female == "1"] <- "F"
# this produces the men and women columns of mean, standard deviation, and count
table_g <- CPS92_12 %>% filter(bachelor == "0") %>% group_by(year, gender) %>% summarise(mean = mean(ahe), sd = sd(ahe), n = n()) ##high school
mean_difference = c(10.8-8.78, 17.0-13.12) # mean_difference = mean for male - mean for female = M_mean - F_mean
print(mean_difference)
mean_se <- c(sqrt(3.89**2/1876 + 4.87**2/2774), sqrt(6.07**2/1206 + 8.9**2/2279)) #SE of mean = square root of (F_sd^2/F_n + M_sd^2/M_n)
print(mean_se)
CI_d_1992 <- c(2.02 - 1.96*0.129, 2.02+1.96*0.129) #95% confidence interval = mean_difference +/- 1.96*mean_se
print(CI_d_1992)
CI_d_2012 <- c(3.8 - 1.96*0.256, 3.8 + 1.96*0.256)
print(CI_d_2012)
CI <- c("1.77-2.77", "3.3-4.3")
# now reshape into wide format, to match Table 3.1 in the book
table_g.wide <- table_g %>% gather(variable, value, -(year:gender)) %>%
unite(temp, gender, variable) %>%
spread(temp, value)
table_g.wide <- cbind(table_g.wide, MF_mean = mean_difference, MF_SE = mean_se, CI_d = CI)
kable(table_g.wide)
setwd("~/Desktop/Fall 2018/applied econometrics with R")
setwd("~/Desktop/Fall 2018/applied econometrics with R/Julie Problem set 1")
